
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.sftpgo.com/Enterprise/initial-configuration/">
      
      
        <link rel="prev" href="../installation/">
      
      
        <link rel="next" href="../docker/">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Feature overview - SFTPGo documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <meta name="keywords" content="SFTP, FTP, SCP, WebDAV, S3, Google Cloud Storage, Azure Blob, 2FA, Data At Rest Encryption, file sharing, transfer, secure, SaaS, SFTP as a service, FTP as a service, On-premise, SFTP Managed service, FTP Managed service, REST API">
  <meta name="description" content="Fully featured and highly configurable SFTP server with HTTP/S Web UI, FTP/S and WebDAV - As a Managed Service, On-premise, Cloud, Hybrid Cloud - Data at Rest Encryption, S3, Google Cloud, Azure Blob.">
  <meta property="og:title" content="SFTP & FTP as a Managed Service (SaaS) and On-premise">
  <meta property="og:url" content="https://docs.sftpgo.com">
  <meta property="og:description" content="Fully featured and highly configurable SFTP server with HTTP/S Web UI, FTP/S and WebDAV - As a Managed Service, On-premise, Cloud, Hybrid Cloud - Data at Rest Encryption, S3, Google Cloud, Azure Blob.">
  <meta property="og:image" content="https://docs.sftpgo.com/latest/assets/logo.png">
  <meta name="twitter:title" content="SFTP & FTP as a Managed Service (SaaS) and On-premise">
  <meta name="twitter:description" content="Fully featured and highly configurable SFTP server with HTTP/S Web UI, FTP/S and WebDAV - As a Managed Service, On-premise, Cloud, Hybrid Cloud - Data at Rest Encryption, S3, Google Cloud, Azure Blob.">
  <meta name="twitter:image" content="https://docs.sftpgo.com/latest/assets/logo.png">
  <meta name="twitter:card" content="summary">

   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#feature-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="SFTPGo documentation" class="md-header__button md-logo" aria-label="SFTPGo documentation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SFTPGo documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Feature overview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SFTPGo documentation" class="md-nav__button md-logo" aria-label="SFTPGo documentation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    SFTPGo documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What is SFTPGo?
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Main Features
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Feature overview
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Feature overview
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initial-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Initial configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-a-license-key" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a license key
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-users" class="md-nav__link">
    <span class="md-ellipsis">
      Creating users
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-users-with-a-cloud-storage-backend" class="md-nav__link">
    <span class="md-ellipsis">
      Creating users with a Cloud Storage backend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-users-with-a-local-encrypted-backend-data-at-rest-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      Creating users with a local encrypted backend (Data At Rest Encryption)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webclient" class="md-nav__link">
    <span class="md-ellipsis">
      WebClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-and-folder-management" class="md-nav__link">
    <span class="md-ellipsis">
      File and Folder Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-editing-collaboration" class="md-nav__link">
    <span class="md-ellipsis">
      Document Editing &amp; Collaboration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-factor-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Two factor authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#virtual-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Virtual permissions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#virtual-folders" class="md-nav__link">
    <span class="md-ellipsis">
      Virtual folders
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#groups" class="md-nav__link">
    <span class="md-ellipsis">
      Groups
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Groups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      Usage example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simplify-user-page" class="md-nav__link">
    <span class="md-ellipsis">
      Simplify user page
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-branding" class="md-nav__link">
    <span class="md-ellipsis">
      Custom branding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-postgresql-data-provider" class="md-nav__link">
    <span class="md-ellipsis">
      Use PostgreSQL data provider
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-mysqlmariadb-data-provider" class="md-nav__link">
    <span class="md-ellipsis">
      Use MySQL/MariaDB data provider
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-cockroachdb-data-provider" class="md-nav__link">
    <span class="md-ellipsis">
      Use CockroachDB data provider
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-ftp-service" class="md-nav__link">
    <span class="md-ellipsis">
      Enable FTP service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-webdav-service" class="md-nav__link">
    <span class="md-ellipsis">
      Enable WebDAV service
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data provider management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/migrating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migration from Open-Source 2.6.x to Enterprise
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/lets-encrypt-certificate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Let's Encrypt TLS Certificates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/two-factor-authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Two-factor Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/eventmanager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/sftpgo-google-cloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SFTPGo on Google Cloud Platform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/sftpgo-aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SFTPGo on AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/postgresql-s3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SFTPGo with PostgreSQL data provider and S3 backend
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command line options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config-file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../env-vars/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web-interfaces/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web User Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../password/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Password Hashing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Key Management Services
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../virtual-folders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Virtual Folders
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Groups
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Roles
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../defender/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Brute force protection
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../eventmanager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event Manager
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../oidc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenID Connect
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../rest-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    REST API
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../rate-limiting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rate limiting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plugin system
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metrics
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_18" >
        
          
          <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Protocols
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18">
            <span class="md-nav__icon md-icon"></span>
            Protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ftp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FTP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webdav/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebDAV
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_19" >
        
          
          <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Storage providers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_19">
            <span class="md-nav__icon md-icon"></span>
            Storage providers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../localfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local filesystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    S3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../google-cloud-storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google Cloud
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../azure-blob-storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Blob
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data At Rest Encryption
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sftpfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SFTP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../httpfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTPFs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20" >
        
          
          <label class="md-nav__link" for="__nav_20" id="__nav_20_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Hooks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_20">
            <span class="md-nav__icon md-icon"></span>
            Hooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../external-auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../keyboard-interactive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Keyboard Interactive Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic-user-mod/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dynamic user creation or modification
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom-actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../post-connect-hook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Post-connect
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../post-login-hook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Post-login
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../post-disconnect-hook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Post-disconnect
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../check-password-hook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Check password
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profiling
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initial-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Initial configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-a-license-key" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a license key
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-users" class="md-nav__link">
    <span class="md-ellipsis">
      Creating users
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-users-with-a-cloud-storage-backend" class="md-nav__link">
    <span class="md-ellipsis">
      Creating users with a Cloud Storage backend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-users-with-a-local-encrypted-backend-data-at-rest-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      Creating users with a local encrypted backend (Data At Rest Encryption)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webclient" class="md-nav__link">
    <span class="md-ellipsis">
      WebClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-and-folder-management" class="md-nav__link">
    <span class="md-ellipsis">
      File and Folder Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-editing-collaboration" class="md-nav__link">
    <span class="md-ellipsis">
      Document Editing &amp; Collaboration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-factor-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Two factor authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#virtual-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Virtual permissions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#virtual-folders" class="md-nav__link">
    <span class="md-ellipsis">
      Virtual folders
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#groups" class="md-nav__link">
    <span class="md-ellipsis">
      Groups
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Groups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      Usage example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simplify-user-page" class="md-nav__link">
    <span class="md-ellipsis">
      Simplify user page
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-branding" class="md-nav__link">
    <span class="md-ellipsis">
      Custom branding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-postgresql-data-provider" class="md-nav__link">
    <span class="md-ellipsis">
      Use PostgreSQL data provider
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-mysqlmariadb-data-provider" class="md-nav__link">
    <span class="md-ellipsis">
      Use MySQL/MariaDB data provider
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-cockroachdb-data-provider" class="md-nav__link">
    <span class="md-ellipsis">
      Use CockroachDB data provider
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-ftp-service" class="md-nav__link">
    <span class="md-ellipsis">
      Enable FTP service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-webdav-service" class="md-nav__link">
    <span class="md-ellipsis">
      Enable WebDAV service
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="feature-overview">Feature overview</h1>
<p>We assume that you have installed SFTPGo and it is up and running, so let's explore the main features and concepts.</p>
<h2 id="initial-configuration">Initial configuration</h2>
<p>Before you can use SFTPGo you need to create an admin account, so open <a href="http://127.0.0.1:8080/web" target="_blank">http://127.0.0.1:8080/web/admin</a> in your web browser, replacing <code>127.0.0.1</code> with the appropriate IP address if SFTPGo is not running on localhost.</p>
<p><a class="glightbox" href="../assets/img/setup.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="setup"><img alt="Setup" data-gallery="setup" src="../assets/img/setup.png" /></a></p>
<p>After creating the admin account you will be automatically logged in and redirected to the page to set up two-factor authentication. Setting up two-factor authentication is optional.</p>
<p><a class="glightbox" href="../assets/img/initial-screen.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="initial screen"><img alt="Initial Screen" data-gallery="initial screen" src="../assets/img/initial-screen.png" /></a></p>
<p>The web admin is now available at the following URL:</p>
<p><a href="http://127.0.0.1:8080/web/admin" target="_blank">http://127.0.0.1:8080/web/admin</a></p>
<p>From the <code>Status</code> page you see the active services.</p>
<p><a class="glightbox" href="../assets/img/status.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="status"><img alt="Status" data-gallery="status" src="../assets/img/status.png" /></a></p>
<p>The default configuration enables the SFTP service on port <code>2022</code> and uses an embedded data provider (<code>SQLite</code> or <code>bolt</code> based on the target OS and architecture).</p>
<h2 id="adding-a-license-key">Adding a license key</h2>
<p>Without a valid license, the application will operate under the <a href="https://sftpgo.com/on-premises" target="_blank">Starter license tier</a>, with the following additional limitations:</p>
<ul>
<li>Concurrent transfers are limited to 2.</li>
<li>Plugin support is disabled.</li>
</ul>
<p>You can view your license status and add a new license key from the WebAdmin UI by navigating to Server Manager =&gt; License.</p>
<p><a class="glightbox" href="../assets/img/license.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="license"><img alt="License" data-gallery="license" src="../assets/img/license.png" /></a></p>
<p>For unattended or CLI-based setups, the license key can also be activated by setting the <code>SFTPGO_LICENSE_KEY</code> environment variable.</p>
<pre><code class="language-shell">SFTPGO_LICENSE_KEY=XXXX-XXXX-XXXX-XXXX
</code></pre>
<h2 id="creating-users">Creating users</h2>
<p>Let's create our first local user:</p>
<ul>
<li>from the <code>Users</code> page click the <code>+</code> icon to open the <code>Add user page</code></li>
<li>the only required fields are the <code>Username</code> and a <code>Password</code> or a <code>Public key</code></li>
<li>if you are on Windows or you installed SFTPGo manually and no <code>users_base_dir</code> is defined in your configuration file you also have to set a <code>Home Dir</code>. It must be an absolute path, for example <code>/srv/sftpgo/data/username</code> on Linux or <code>C:\sftpgo\data\username</code> on Windows. SFTPGo will try to automatically create the home directory, if missing, when the user logs in. Each user can only access files and folders inside its home directory.</li>
<li>click <code>Save</code></li>
</ul>
<p><a class="glightbox" href="../assets/img/add-user.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="add-user"><img alt="Add user" data-gallery="add-user" src="../assets/img/add-user.png" /></a></p>
<p><img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" title=":warning:" /> Please note that, on Linux, SFTPGo runs using a dedicated system user and group called <code>sftpgo</code>, for added security. If you want to be able to use directories outside the <code>/srv/sftpgo</code> path you need to set the appropriate system level permissions. For example if you define <code>/home/username/test</code> as home dir you have to create this directory yourself, if it doesn't exist, and set the appropriate system-level permissions:</p>
<pre><code class="language-shell">sudo mkdir /home/username/test
sudo chown sftpgo:sftpgo /home/username/test
</code></pre>
<p>You also need to make sure that the <code>sftpgo</code> system user has at least the read permission for any parent directory, so in the example above <code>/home/username</code> and <code>/home</code> must not have <code>0700</code> permissions.</p>
<p>Now test the new user, we use the <code>sftp</code> CLI here, you can use any SFTP client.</p>
<pre><code class="language-shell">$ sftp -P 2022 nicola@127.0.0.1
nicola@127.0.0.1's password:
Connected to 127.0.0.1.
sftp&gt; ls
sftp&gt; put file.txt
Uploading file.txt to /file.txt
file.txt                                      100% 4034     3.9MB/s   00:00
sftp&gt; ls
file.txt
sftp&gt; mkdir adir
sftp&gt; cd adir/
sftp&gt; put file.txt
Uploading file.txt to /adir/file.txt
file.txt                                      100% 4034     4.0MB/s   00:00
sftp&gt; ls
file.txt
sftp&gt; get file.txt
Fetching /adir/file.txt to file.txt
/adir/file.txt                                100% 4034     1.9MB/s   00:00
</code></pre>
<p>It worked! We can upload/download files and create directories.</p>
<h3 id="creating-users-with-a-cloud-storage-backend">Creating users with a Cloud Storage backend</h3>
<p>The procedure is similar to the one described for local users, you have only specify the Cloud Storage backend and its credentials.</p>
<p>The screenshot below shows an example configuration for an S3 backend.</p>
<p><a class="glightbox" href="../assets/img/s3-user-1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="s3-user"><img alt="S3 user" data-gallery="s3-user" src="../assets/img/s3-user-1.png" /></a>
<a class="glightbox" href="../assets/img/s3-user-2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="s3-user"><img alt="S3 user" data-gallery="s3-user" src="../assets/img/s3-user-2.png" /></a></p>
<p>The screenshot below shows an example configuration for an Azure Blob Storage backend.</p>
<p><a class="glightbox" href="../assets/img/az-user-1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="az-user"><img alt="Azure Blob user" data-gallery="az-user" src="../assets/img/az-user-1.png" /></a>
<a class="glightbox" href="../assets/img/az-user-2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="az-user"><img alt="Azure Blob user" data-gallery="az-user" src="../assets/img/az-user-2.png" /></a></p>
<p>The screenshot below shows an example configuration for a Google Cloud Storage backend.</p>
<p><a class="glightbox" href="../assets/img/gcs-user.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="gcs-user"><img alt="Google Cloud user" data-gallery="gcs-user" src="../assets/img/gcs-user.png" /></a></p>
<p>The screenshot below shows an example configuration for an SFTP server as storage backend.</p>
<p><a class="glightbox" href="../assets/img/sftp-user.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="sftp-user"><img alt="User using another SFTP server as storage backend" data-gallery="sftp-user" src="../assets/img/sftp-user.png" /></a></p>
<p>Setting a <code>Key Prefix</code> you restrict the user to a specific "sub-folder" in the bucket, so that the same bucket can be shared among different users.</p>
<h3 id="creating-users-with-a-local-encrypted-backend-data-at-rest-encryption">Creating users with a local encrypted backend (Data At Rest Encryption)</h3>
<p>The procedure is similar to the one described for local users, you have only specify the encryption passphrase.
The screenshot below shows an example configuration.</p>
<p><a class="glightbox" href="../assets/img/local-encrypted.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="cryptfs-user"><img alt="User with cryptfs backend" data-gallery="cryptfs-user" src="../assets/img/local-encrypted.png" /></a></p>
<p>More details about <a href="../dare/">Data At Rest Encryption</a>.</p>
<h2 id="webclient">WebClient</h2>
<p>Users created via the WebAdmin UI can also log in to the WebClient UI to browse and manage their files directly in the browser. They can update their credentials and enable two-factor authentication, which is compatible with Microsoft Authenticator, Google Authenticator, Authy, and other apps that support standard TOTP.</p>
<p>From the WebClient, authorized users can securely share files and folders via HTTP/S links. Sharing options include setting download/upload limits, password protection, email-based authentication, IP address restrictions, and automatic expiration dates.</p>
<p>The WebClient interface is available at the following URL:</p>
<p><a href="http://127.0.0.1:8080/web/client" target="_blank">http://127.0.0.1:8080/web/client</a></p>
<h3 id="file-and-folder-management">File and Folder Management</h3>
<p>The WebClient allows users to easily manage files and folders within their SFTPGo storage from the "Files" section.</p>
<p><a class="glightbox" href="../assets/img/web-client-files.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="client-files"><img alt="WebClient files" data-gallery="client-files" src="../assets/img/web-client-files.png" /></a></p>
<p>Key functionalities:</p>
<ul>
<li>Upload: Drag &amp; drop or use the upload button to add single or multiple files.</li>
<li>Download: Download individual files or multiple items as a zipped archive.</li>
<li>Folders: Create, rename, and delete folders to organize your content.</li>
<li>Rename/Delete: Rename or delete files and folders via the context menu.</li>
<li>Move/Copy: Move or copy files and folders.</li>
<li>Search: Quickly find files and folders using the search bar.</li>
<li>Preview: Preview supported file types directly in the browser.</li>
</ul>
<h3 id="document-editing-collaboration">Document Editing &amp; Collaboration</h3>
<p>Document Editing &amp; Collaboration can be added as a separate add-on to any license.</p>
<p>This feature enables seamless document editing, and real-time collaboration directly within the SFTPGo WebClient. Multiple users can work on the same document simultaneously, with live updates visible to everyone as changes are made.</p>
<p>To use this feature, you will need to deploy a compatible WOPI document server in your environment, such as <a href="https://www.collaboraonline.com/" target="_blank">Collabora Online</a>, the open-source office suite based on LibreOffice. We are an official partner of Collabora and offer first-class support for integrating with it.</p>
<p>Virtual folders can be created for sharing among multiple users, enabling collaboration on the documents stored within them.</p>
<p>To start editing and collaborating on a .docx, .xlsx, or .pptx files (or their open formats), simply click the 'eye' icon next to the file in the list.</p>
<p><a class="glightbox" href="../assets/img/view_doc.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="view-doc"><img alt="View document" data-gallery="view-doc" src="../assets/img/view_doc.png" /></a></p>
<p>The Collabora Online editor will open directly in your browser.</p>
<p><a class="glightbox" href="../assets/img/collabora.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="doc-editor"><img alt="Collabora Online editor" data-gallery="doc-editor" src="../assets/img/collabora.png" /></a></p>
<p>This powerful, web-based office suite allows you to view, edit, and collaborate on documents in real time, without needing to download or install anything. It supports rich editing features for text documents, spreadsheets and presentations, ensuring full compatibility with Microsoft Office formats.</p>
<p>The licensing model is per-user. When a user opens a document, one of the available licenses is automatically assigned to them. If no document is opened for three consecutive days, the license is automatically released and available for a different users.</p>
<p>If you've purchased the add-on for fewer users than the total number of users in your installation, you can restrict access by disabling WOPI for specific users or groups in the "ACLs" section.</p>
<p><a class="glightbox" href="../assets/img/disable_wopi.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Disable WOPI" src="../assets/img/disable_wopi.png" /></a></p>
<h3 id="two-factor-authentication">Two factor authentication</h3>
<p>For detailed, step-by-step instructions, please refer to the dedicated <a href="../tutorials/two-factor-authentication/#enable-2fa-for-users">Two-Factor Authentication tutorial</a>.</p>
<p><a class="glightbox" href="../assets/img/web-client-two-factor-auth.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="webclient-2fa"><img alt="WebClient two-factor authentication" data-gallery="webclient-2fa" src="../assets/img/web-client-two-factor-auth.png" /></a></p>
<h3 id="sharing">Sharing</h3>
<p>The WebClient allows users to securely share files and folders via HTTP/S links. Each share can be customized with advanced options to control access and improve security.</p>
<p>To share a file or folder, select the desired item and click the three-dot menu (â‹®) on the left. Then choose the 'Share' option from the menu.</p>
<p><a class="glightbox" href="../assets/img/webclient_add_share.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="webclient-share"><img alt="WebClient add share" data-gallery="webclient-share" src="../assets/img/webclient_add_share.png" /></a></p>
<p>Configure the sharing options, such as the access scopeâ€”read, write, or read/writeâ€”to define what actions recipients are allowed to perform. You can also enable email-based authentication to restrict access to specific recipients.</p>
<p><a class="glightbox" href="../assets/img/webclient_config_share.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="webclient-config-share"><img alt="WebClient add share" data-gallery="webclient-config-share" src="../assets/img/webclient_config_share.png" /></a></p>
<p>Share the link with external users.</p>
<p>Bonus: Configure an EventManager rule to automatically send email notifications to recipients whenever a new share is created.</p>
<p>External users will be prompted to enter their email address and will receive a one-time authentication code, valid for a limited time, to access the shared content.</p>
<p><a class="glightbox" href="../assets/img/webclient_share_auth.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="webclient-share-auth"><img alt="WebClient share login" data-gallery="webclient-share-auth" src="../assets/img/webclient_share_auth.png" /></a></p>
<h2 id="virtual-permissions">Virtual permissions</h2>
<p>SFTPGo supports per directory virtual permissions. For each user you have to specify global permissions and then override them on a per-directory basis.</p>
<p>Take a look at the following screens.</p>
<p><a class="glightbox" href="../assets/img/virtual-permissions.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="virtual-perms"><img alt="Permissions" data-gallery="virtual-perms" src="../assets/img/virtual-permissions.png" /></a></p>
<p>This user has full access as default (<code>*</code>), can only list and download from <code>/read-only</code> path and has no permissions at all for the <code>/subdir</code> path.</p>
<p>Let's test it. We use the <code>sftp</code> CLI here, you can use any SFTP client.</p>
<pre><code class="language-shell">$ sftp -P 2022 nicola@127.0.0.1
Connected to 127.0.0.1.
sftp&gt; ls
adir        file.txt    read-only   subdir
sftp&gt; put file.txt
Uploading file.txt to /file.txt
file.txt                                                                  100% 4034    19.4MB/s   00:00
sftp&gt; rm file.txt
Removing /file.txt
sftp&gt; ls
adir        read-only   subdir
sftp&gt; cd read-only/
sftp&gt; ls
file.txt
sftp&gt; put file1.txt
Uploading file1.txt to /read-only/file1.txt
remote open(&quot;/read-only/file1.txt&quot;): Permission denied
sftp&gt; get file.txt
Fetching /read-only/file.txt to file.txt
/read-only/file.txt                                                       100% 4034     2.2MB/s   00:00
sftp&gt; cd ..
sftp&gt; ls
adir        read-only   subdir
sftp&gt; cd /subdir
sftp&gt; ls
remote readdir(&quot;/subdir&quot;): Permission denied
</code></pre>
<p>as you can see it worked as expected.</p>
<h2 id="virtual-folders">Virtual folders</h2>
<p>A virtual folder is a mapping between a SFTPGo virtual path and a filesystem path outside the user home directory or on a different storage provider.
Therefore, there is no need to create virtual folders for the users home directory or for directories within the users home directory.</p>
<p>From the web admin interface click <code>Folders</code> and then the <code>+</code> icon.</p>
<p><a class="glightbox" href="../assets/img/add-folder.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="add-folder"><img alt="Add folder" data-gallery="add-folder" src="../assets/img/add-folder.png" /></a></p>
<p>To create a local folder you need to specify a <code>Name</code> and an <code>Absolute path</code>. For other backends you have to specify the backend type and its credentials, this is the same procedure already detailed for creating users with cloud backends.</p>
<p>Suppose we created two virtual folders name <code>localfolder</code> and <code>minio</code> as you can see in the following screen.</p>
<p><a class="glightbox" href="../assets/img/folders.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="folders"><img alt="Folders" data-gallery="folders" src="../assets/img/folders.png" /></a></p>
<ul>
<li><code>localfolder</code> uses the local filesystem as storage backend</li>
<li><code>minio</code> uses MinIO (S3 compatible) as storage backend</li>
</ul>
<p>Now, click <code>Users</code>, on the left menu, select a user and click the <code>Edit</code> icon, to update the user and associate the virtual folders.</p>
<p>Virtual folders must be referenced using their unique name and you can map them on a configurable virtual path. Take a look at the following screenshot.</p>
<p><a class="glightbox" href="../assets/img/virtual-folders.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="virtual-folders"><img alt="Virtual Folders" data-gallery="virtual-folders" src="../assets/img/virtual-folders.png" /></a></p>
<p>We mapped the folder named <code>localfolder</code> on the path <code>/vdirlocal</code> (this must be an absolute UNIX path on Windows too) and the folder named <code>minio</code> on the path <code>/vdirminio</code>. For <code>localfolder</code> the quota usage is included within the user quota, while for the <code>minio</code> folder we defined separate quota limits: at most 2 files and at most 100MB, whichever is reached first.</p>
<p>The folder <code>minio</code> can be shared with other users and we can define different quota limits on a per-user basis. The folder <code>localfolder</code> is considered private since we have included its quota limits within those of the user, if we share them with other users we will break quota calculation.</p>
<p>Let's test these virtual folders. We use the <code>sftp</code> CLI here, you can use any SFTP client.</p>
<pre><code class="language-shell">$ sftp -P 2022 nicola@127.0.0.1
nicola@127.0.0.1's password:
Connected to 127.0.0.1.
sftp&gt; ls
adir        read-only   subdir      vdirlocal   vdirminio
sftp&gt; cd vdirlocal
sftp&gt; put file.txt
Uploading file.txt to /vdirlocal/file.txt
file.txt                                                                  100% 4034    17.3MB/s   00:00
sftp&gt; ls
file.txt
sftp&gt; cd ..
sftp&gt; cd vdirminio/
sftp&gt; put file.txt
Uploading file.txt to /vdirminio/file.txt
file.txt                                                                  100% 4034     4.8MB/s   00:00
sftp&gt; ls
file.txt
sftp&gt; put file.txt file1.txt
Uploading file.txt to /vdirminio/file1.txt
file.txt                                                                  100% 4034     2.8MB/s   00:00
sftp&gt; put file.txt file2.txt
Uploading file.txt to /vdirminio/file2.txt
remote open(&quot;/vdirminio/file2.txt&quot;): Failure
sftp&gt; quit
</code></pre>
<p>The last upload failed since we exceeded the number of files quota limit.</p>
<h2 id="groups">Groups</h2>
<p>Using groups simplifies the administration of multiple SFTPGo users: you can assign settings once to a group, instead of multiple times to each individual user.</p>
<p>SFTPGo supports the following types of groups:</p>
<ul>
<li>primary groups</li>
<li>secondary groups</li>
<li>membership groups</li>
</ul>
<p>A user can be a member of a primary group and many secondary and membership groups. Depending on the group type, the settings are inherited differently, <a href="../groups/">more details</a>.</p>
<p><img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" title=":warning:" /> SFTPGo groups are completely unrelated to system groups. Therefore, it is not necessary to add Linux/Windows groups to use SFTPGo groups.</p>
<h3 id="usage-example">Usage example</h3>
<p>Suppose you have the following requirements:</p>
<ul>
<li>each user must be restricted to a local home directory containing the username as last element of the path, for example <code>/srv/sftpgo/data/&lt;username&gt;</code></li>
<li>for each user, the maximum upload size for a single file must be limited to 1GB</li>
<li>each user must have an S3 virtual folder available in the path <code>/s3&lt;username&gt;</code> and each user can only access a specified "prefix" of the S3 bucket. It must not be able to access other users' files</li>
<li>each user must have an S3 virtual folder available in the path <code>/shared</code>. This is a folder shared with other users</li>
<li>a group of users can only download and list contents in the <code>/shared</code> path while another group of users have full access</li>
</ul>
<p>We can easily meet these requirements by defining two groups.</p>
<p>From the SFTPGo WebAdmin UI, click on <code>Folders</code> and then on the <code>+</code> icon.</p>
<p>Create a folder named <code>S3private</code>.
Set the storage to <code>AWS S3 (Compatible)</code> and fill the required parameters:</p>
<ul>
<li>bucket name</li>
<li>region</li>
<li>credentials: access key and access secret</li>
</ul>
<p><a class="glightbox" href="../assets/img/s3-private-folder.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="s3-private-folder"><img alt="S3Private folder" data-gallery="s3-private-folder" src="../assets/img/s3-private-folder.png" /></a></p>
<p>The important part is the <code>Key Prefix</code>, set it to <code>users/%username%/</code></p>
<p><a class="glightbox" href="../assets/img/s3-key-prefix.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="s3-key-prefix"><img alt="S3Private Key Prefix" data-gallery="s3-key-prefix" src="../assets/img/s3-key-prefix.png" /></a></p>
<p>The placeholder <code>%username%</code> will be replaced with the associated username.</p>
<p>Create another folder named <code>S3shared</code> with the same settings as <code>S3private</code> but this time set the <code>Key Prefix</code> to <code>shared/</code>.
The <code>Key Prefix</code> has no placeholder, so the folder will operate on a static path that won't change based on the associated user.</p>
<p>Now click on <code>Groups</code> and then on the <code>+</code> icon and add a group named <code>Primary</code>.</p>
<p>Set the <code>Home Dir</code> to <code>/srv/sftpgo/data/%username%</code>.</p>
<p><a class="glightbox" href="../assets/img/add-group.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="add-group"><img alt="Add group" data-gallery="add-group" src="../assets/img/add-group.png" /></a></p>
<p>As before, the placeholder <code>%username%</code> will be replaced with the associated username.</p>
<p>Add the two virtual folders to this group and set the <code>Max file upload size</code> to 1GB.</p>
<p><a class="glightbox" href="../assets/img/primary-group-settings.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="primary-group-settings"><img alt="Primary group settings" data-gallery="primary-group-settings" src="../assets/img/primary-group-settings.png" /></a></p>
<p>Add a new group and name it <code>SharedReadOnly</code>, in the ACLs section set the permission on the <code>/shared</code> path so that read only access is granted.</p>
<p><a class="glightbox" href="../assets/img/read-only-share.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="read-only-share"><img alt="Read-only share" data-gallery="read-only-share" src="../assets/img/read-only-share.png" /></a></p>
<p>The group setup is now complete. We can now create our users and set the primary group to <code>Primary</code>.
For the users who need read-only access to the <code>/shared</code> path we also have to set <code>SharedReadOnly</code> as a secondary group.</p>
<p>You can now login with any SFTP client like FileZilla, WinSCP etc. and verify that the requirements are met.</p>
<h3 id="simplify-user-page">Simplify user page</h3>
<p>The add/update user page has many configuration options and can be intimidating for some administrators. We can hide most of the settings and automatically add groups to newly created users. This way the hidden settings are inherited from the automatically assigned groups and therefore administrators can add new users simply by setting the username and credentials.</p>
<p>Click on <code>Admins</code> and then on the <code>+</code> icon and add an admin named <code>simply</code>.
In the <code>Groups for users</code> section set <code>Primary</code> as primary group and <code>SharedReadOnly</code> as <code>seconday</code> group.
In the <code>User page preferences</code> section hide all the sections.</p>
<p><a class="glightbox" href="../assets/img/simplified-admin.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="simplified-admin"><img alt="Simplified admin" data-gallery="simplified-admin" src="../assets/img/simplified-admin.png" /></a></p>
<p>Log in using the newly created administrator and try to add a new user. The user page is simplified as you can see in the following screen.</p>
<p><a class="glightbox" href="../assets/img/add-user-simplified.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom" data-gallery="simplified-user"><img alt="Simplified user add" data-gallery="simplified-user" src="../assets/img/add-user-simplified.png" /></a></p>
<h2 id="custom-branding">Custom branding</h2>
<p>From the "Server Manager" section, select "Configurations" and then "Branding". You can change the name, logo, favicon and add a disclaimer in the login section for both WebAdmin and WebClient. The disclaimer might be a URL to your Privacy Policy or something like that.</p>
<h2 id="configuration-parameters">Configuration parameters</h2>
<p>Until now we used the default configuration, to change the global service parameters you have to edit the configuration file, or set appropriate environment variables, and restart SFTPGo to apply the changes.</p>
<p>A full explanation of all configuration parameters is available in the dedicated <a href="../config-file/">configuration file section</a>. Below, weâ€™ll explore some common use cases.</p>
<p>Keep in mind that SFTPGo can also be configured using environment variables â€” a convenient option, especially when running it in Docker.</p>
<p>The default configuration file is <code>sftpgo.json</code> and it can be found within the <code>/etc/sftpgo</code> directory if you installed from Linux distro packages. On Windows the configuration file can be found within the <code>{commonappdata}\SFTPGo</code> directory where <code>{commonappdata}</code> is typically <code>C:\ProgramData</code>. SFTPGo also supports reading from TOML and YAML configuration files.</p>
<p>The configuration file can change between different versions and merging your custom settings with the default configuration file, after updating SFTPGo, may be time-consuming. For this reason we suggest to set your custom settings using environment variables.
If you install SFTPGo on Linux using the official deb/rpm packages you can set your custom environment variables in the file <code>/etc/sftpgo/sftpgo.env</code>.
SFTPGo also reads files inside the <code>env.d</code> directory relative to config dir (<code>/etc/sftpgo/env.d</code> on Linux and <code>{commonappdata}\SFTPGo\env.d</code> on Windows) and then exports the valid variables into environment variables if they are not already set.
Of course you can also set environment variables with the method provided by the operating system of your choice.</p>
<p>The following snippets assume your are running SFTPGo on Linux but they can be easily adapted for other operating systems.</p>
<h3 id="use-postgresql-data-provider">Use PostgreSQL data provider</h3>
<p>Create a PostgreSQL database named <code>sftpgo</code> and a PostgreSQL user with the correct permissions, for example using the <code>psql</code> CLI.</p>
<pre><code class="language-shell">sudo -i -u postgres psql
CREATE DATABASE &quot;sftpgo&quot; WITH ENCODING='UTF8' CONNECTION LIMIT=-1;
create user &quot;sftpgo&quot; with encrypted password 'your password here';
grant all privileges on database &quot;sftpgo&quot; to &quot;sftpgo&quot;;
\q
</code></pre>
<p>You can open the SFTPGo configuration file, search for the <code>data_provider</code> section and change it as follow.</p>
<pre><code class="language-json">  &quot;data_provider&quot;: {
    &quot;driver&quot;: &quot;postgresql&quot;,
    &quot;name&quot;: &quot;sftpgo&quot;,
    &quot;host&quot;: &quot;127.0.0.1&quot;,
    &quot;port&quot;: 5432,
    &quot;username&quot;: &quot;sftpgo&quot;,
    &quot;password&quot;: &quot;your password here&quot;,
    ...
}
</code></pre>
<p>Alternatively (recommended), you can use environment variables by creating the file <code>/etc/sftpgo/env.d/postgresql.env</code> with the following content.</p>
<pre><code class="language-shell">SFTPGO_DATA_PROVIDER__DRIVER=postgresql
SFTPGO_DATA_PROVIDER__NAME=sftpgo
SFTPGO_DATA_PROVIDER__HOST=127.0.0.1
SFTPGO_DATA_PROVIDER__PORT=5432
SFTPGO_DATA_PROVIDER__USERNAME=sftpgo
SFTPGO_DATA_PROVIDER__PASSWORD=your password here
</code></pre>
<p>Confirm that the database connection works by initializing the data provider.</p>
<pre><code class="language-shell">$ sudo su - sftpgo -s /bin/bash -c 'sftpgo initprovider -c /etc/sftpgo'
2021-05-19T22:21:54.000 INF Initializing provider: &quot;postgresql&quot; config file: &quot;/etc/sftpgo/sftpgo.json&quot;
2021-05-19T22:21:54.000 INF updating database schema version: 8 -&gt; 9
2021-05-19T22:21:54.000 INF Data provider successfully initialized/updated
</code></pre>
<p>Ensure that SFTPGo starts after the database service.</p>
<pre><code class="language-shell">sudo systemctl edit sftpgo.service
</code></pre>
<p>And override the unit definition with the following snippet.</p>
<pre><code class="language-shell">[Unit]
After=postgresql.service
</code></pre>
<p>Restart SFTPGo to apply the changes.</p>
<h3 id="use-mysqlmariadb-data-provider">Use MySQL/MariaDB data provider</h3>
<p>Create a MySQL database named <code>sftpgo</code> and a MySQL user with the correct permissions, for example using the <code>mysql</code> CLI.</p>
<pre><code class="language-shell">$ mysql -u root
MariaDB [(none)]&gt; CREATE DATABASE sftpgo CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
Query OK, 1 row affected (0.000 sec)

MariaDB [(none)]&gt; grant all privileges on sftpgo.* to sftpgo@localhost identified by 'your password here';
Query OK, 0 rows affected (0.027 sec)

MariaDB [(none)]&gt; quit
Bye
</code></pre>
<p>You can open the SFTPGo configuration file, search for the <code>data_provider</code> section and change it as follow.</p>
<pre><code class="language-json">  &quot;data_provider&quot;: {
    &quot;driver&quot;: &quot;mysql&quot;,
    &quot;name&quot;: &quot;sftpgo&quot;,
    &quot;host&quot;: &quot;127.0.0.1&quot;,
    &quot;port&quot;: 3306,
    &quot;username&quot;: &quot;sftpgo&quot;,
    &quot;password&quot;: &quot;your password here&quot;,
    ...
}
</code></pre>
<p>Alternatively (recommended), you can use environment variables by creating the file <code>/etc/sftpgo/env.d/mysql.env</code> with the following content.</p>
<pre><code class="language-shell">SFTPGO_DATA_PROVIDER__DRIVER=mysql
SFTPGO_DATA_PROVIDER__NAME=sftpgo
SFTPGO_DATA_PROVIDER__HOST=127.0.0.1
SFTPGO_DATA_PROVIDER__PORT=3306
SFTPGO_DATA_PROVIDER__USERNAME=sftpgo
SFTPGO_DATA_PROVIDER__PASSWORD=your password here
</code></pre>
<p>Confirm that the database connection works by initializing the data provider.</p>
<pre><code class="language-shell">$ sudo su - sftpgo -s /bin/bash -c 'sftpgo initprovider -c /etc/sftpgo'
2021-05-19T22:29:30.000 INF Initializing provider: &quot;mysql&quot; config file: &quot;/etc/sftpgo/sftpgo.json&quot;
2021-05-19T22:29:30.000 INF updating database schema version: 8 -&gt; 9
2021-05-19T22:29:30.000 INF Data provider successfully initialized/updated
</code></pre>
<p>Ensure that SFTPGo starts after the database service.</p>
<pre><code class="language-shell">sudo systemctl edit sftpgo.service
</code></pre>
<p>And override the unit definition with the following snippet.</p>
<pre><code class="language-shell">[Unit]
After=mariadb.service
</code></pre>
<p>Restart SFTPGo to apply the changes.</p>
<h3 id="use-cockroachdb-data-provider">Use CockroachDB data provider</h3>
<p>We suppose you have installed CockroachDB this way:</p>
<pre><code class="language-shell">sudo su
export CRDB_VERSION=22.1.8 # set the latest available version here
wget -qO- https://binaries.cockroachdb.com/cockroach-v${CRDB_VERSION}.linux-amd64.tgz | tar xvz
cp -i cockroach-v${CRDB_VERSION}.linux-amd64/cockroach /usr/local/bin/
mkdir -p /usr/local/lib/cockroach
cp -i cockroach-v${CRDB_VERSION}.linux-amd64/lib/libgeos.so /usr/local/lib/cockroach/
cp -i cockroach-v${CRDB_VERSION}.linux-amd64/lib/libgeos_c.so /usr/local/lib/cockroach/
mkdir /var/lib/cockroach
chown sftpgo:sftpgo /var/lib/cockroach
mkdir -p /etc/cockroach/{certs,ca}
chmod 700 /etc/cockroach/ca
/usr/local/bin/cockroach cert create-ca --certs-dir=/etc/cockroach/certs --ca-key=/etc/cockroach/ca/ca.key
/usr/local/bin/cockroach cert create-node localhost $(hostname) --certs-dir=/etc/cockroach/certs --ca-key=/etc/cockroach/ca/ca.key
/usr/local/bin/cockroach cert create-client root --certs-dir=/etc/cockroach/certs --ca-key=/etc/cockroach/ca/ca.key
chown -R sftpgo:sftpgo /etc/cockroach/certs
exit
</code></pre>
<p>and you are running it using a systemd unit like this one:</p>
<pre><code class="language-shell">[Unit]
Description=Cockroach Database single node
Requires=network.target
[Service]
Type=notify
WorkingDirectory=/var/lib/cockroach
ExecStart=/usr/local/bin/cockroach start-single-node --certs-dir=/etc/cockroach/certs --http-addr 127.0.0.1:8888 --listen-addr 127.0.0.1:26257 --cache=.25 --max-sql-memory=.25 --store=path=/var/lib/cockroach
TimeoutStopSec=60
Restart=always
RestartSec=10
StandardOutput=journal
StandardError=journal
User=sftpgo
[Install]
WantedBy=default.target
</code></pre>
<p>Create a CockroachDB database named <code>sftpgo</code>.</p>
<pre><code class="language-shell">$ sudo /usr/local/bin/cockroach sql --certs-dir=/etc/cockroach/certs -e 'create database &quot;sftpgo&quot;'
CREATE DATABASE

Time: 13ms
</code></pre>
<p>You can open the SFTPGo configuration file, search for the <code>data_provider</code> section and change it as follow.</p>
<pre><code class="language-json">  &quot;data_provider&quot;: {
    &quot;driver&quot;: &quot;cockroachdb&quot;,
    &quot;name&quot;: &quot;sftpgo&quot;,
    &quot;host&quot;: &quot;localhost&quot;,
    &quot;port&quot;: 26257,
    &quot;username&quot;: &quot;root&quot;,
    &quot;password&quot;: &quot;&quot;,
    &quot;sslmode&quot;: 3,
    &quot;root_cert&quot;: &quot;/etc/cockroach/certs/ca.crt&quot;,
    &quot;client_cert&quot;: &quot;/etc/cockroach/certs/client.root.crt&quot;,
    &quot;client_key&quot;: &quot;/etc/cockroach/certs/client.root.key&quot;,
    ...
}
</code></pre>
<p>Alternatively (recommended), you can use environment variables by creating the file <code>/etc/sftpgo/env.d/cockroachdb.env</code> with the following content.</p>
<pre><code class="language-shell">SFTPGO_DATA_PROVIDER__DRIVER=cockroachdb
SFTPGO_DATA_PROVIDER__NAME=sftpgo
SFTPGO_DATA_PROVIDER__HOST=localhost
SFTPGO_DATA_PROVIDER__PORT=26257
SFTPGO_DATA_PROVIDER__USERNAME=root
SFTPGO_DATA_PROVIDER__SSLMODE=3
SFTPGO_DATA_PROVIDER__ROOT_CERT=&quot;/etc/cockroach/certs/ca.crt&quot;
SFTPGO_DATA_PROVIDER__CLIENT_CERT=&quot;/etc/cockroach/certs/client.root.crt&quot;
SFTPGO_DATA_PROVIDER__CLIENT_KEY=&quot;/etc/cockroach/certs/client.root.key&quot;
</code></pre>
<p>Confirm that the database connection works by initializing the data provider.</p>
<pre><code class="language-shell">$ sudo su - sftpgo -s /bin/bash -c 'sftpgo initprovider -c /etc/sftpgo'
2022-06-02T14:54:04.510 INF Initializing provider: &quot;cockroachdb&quot; config file: &quot;/etc/sftpgo/sftpgo.json&quot;
2022-06-02T14:54:04.554 INF creating initial database schema, version 15
2022-06-02T14:54:04.698 INF updating database schema version: 15 -&gt; 16
2022-06-02T14:54:07.093 INF updating database schema version: 16 -&gt; 17
2022-06-02T14:54:07.672 INF updating database schema version: 17 -&gt; 18
2022-06-02T14:54:07.699 INF updating database schema version: 18 -&gt; 19
2022-06-02T14:54:07.721 INF Data provider successfully initialized/updated
</code></pre>
<p>Ensure that SFTPGo starts after the database service.</p>
<pre><code class="language-shell">sudo systemctl edit sftpgo.service
</code></pre>
<p>And override the unit definition with the following snippet.</p>
<pre><code class="language-shell">[Unit]
After=cockroachdb.service
</code></pre>
<p>Restart SFTPGo to apply the changes.</p>
<h3 id="enable-ftp-service">Enable FTP service</h3>
<p>You can set the configuration options to enable the FTP service by opening the SFTPGo configuration file, looking for the <code>ftpd</code> section and editing it as follows.</p>
<pre><code class="language-json">  &quot;ftpd&quot;: {
    &quot;bindings&quot;: [
      {
        &quot;port&quot;: 2121,
        &quot;address&quot;: &quot;&quot;,
        &quot;apply_proxy_config&quot;: true,
        &quot;tls_mode&quot;: 0,
        &quot;certificate_file&quot;: &quot;&quot;,
        &quot;certificate_key_file&quot;: &quot;&quot;,
        &quot;min_tls_version&quot;: 12,
        &quot;force_passive_ip&quot;: &quot;&quot;,
        &quot;passive_ip_overrides&quot;: [],
        &quot;client_auth_type&quot;: 0,
        &quot;tls_cipher_suites&quot;: [],
        &quot;passive_connections_security&quot;: 0,
        &quot;active_connections_security&quot;: 0,
        &quot;debug&quot;: false
      }
    ],
    &quot;banner&quot;: &quot;&quot;,
    &quot;banner_file&quot;: &quot;&quot;,
    &quot;active_transfers_port_non_20&quot;: true,
    &quot;passive_port_range&quot;: {
      &quot;start&quot;: 50000,
      &quot;end&quot;: 50100
    },
    ...
  }
</code></pre>
<p>Alternatively (recommended), you can use environment variables by creating the file <code>/etc/sftpgo/env.d/ftpd.env</code> with the following content.</p>
<pre><code class="language-shell">SFTPGO_FTPD__BINDINGS__0__PORT=2121
</code></pre>
<p>Restart SFTPGo to apply the changes. The FTP service is now available on port <code>2121</code>.</p>
<p>You can also configure the passive ports range (<code>50000-50100</code> by default), these ports must be reachable for passive FTP to work. If your FTP server is on the private network side of a NAT configuration you have to set <code>force_passive_ip</code> to your external IP address. You may also need to open the passive port range on your firewall.</p>
<p>It is recommended that you provide a certificate and key file to allow FTP over TLS. You should prefer SFTP to FTP even if you configure TLS, please don't blindly enable the old FTP protocol.</p>
<h3 id="enable-webdav-service">Enable WebDAV service</h3>
<p>You can set the configuration options to enable the FTP service by opening the SFTPGo configuration file, looking for the <code>webdavd</code> section and editing it as follows.</p>
<pre><code class="language-json">  &quot;webdavd&quot;: {
    &quot;bindings&quot;: [
      {
        &quot;port&quot;: 10080,
        &quot;address&quot;: &quot;&quot;,
        &quot;enable_https&quot;: false,
        &quot;certificate_file&quot;: &quot;&quot;,
        &quot;certificate_key_file&quot;: &quot;&quot;,
        &quot;min_tls_version&quot;: 12,
        &quot;client_auth_type&quot;: 0,
        &quot;tls_cipher_suites&quot;: [],
        &quot;prefix&quot;: &quot;&quot;,
        &quot;proxy_allowed&quot;: [],
        &quot;client_ip_proxy_header&quot;: &quot;&quot;,
        &quot;client_ip_header_depth&quot;: 0,
        &quot;disable_www_auth_header&quot;: false
      }
    ],
    ...
  }
</code></pre>
<p>Alternatively (recommended), you can use environment variables by creating the file <code>/etc/sftpgo/env.d/webdavd.env</code> with the following content.</p>
<pre><code class="language-shell">SFTPGO_WEBDAVD__BINDINGS__0__PORT=10080
</code></pre>
<p>Restart SFTPGo to apply the changes. The WebDAV service is now available on port <code>10080</code>. It is recommended that you provide a certificate and key file to allow WebDAV over https.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://sftpgo.com" target="_blank" rel="noopener" title="SFTPGo Website" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.path", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "toc.follow"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>